
<!DOCTYPE html>
<html lang="en" xmlns:og="http://ogp.me/ns#">

<head>
  <!--
    Meta Tags
  -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Doc on how to create a new type within the current system">
  <meta name="author" content="Tim Roberts">

  <!--
    Icon Links
  -->
  <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
  <link rel="manifest" href="img/site.webmanifest">
  <!--
    Facebook OpenGraph Cards
  -->
  <meta property="og:url" content="https://timonapath.com//docs/internal/create-new-type"/>
  <meta property="og:title" content="Create New Type | Tim on a Path" />
  <meta property="og:description" content="Doc on how to create a new type within the current system" />
  <meta property="og:site_name" content="Tim on a Path" />

  <!--
    Twitter Card
  -->
  <meta name="twitter:card" content="summary" />

  <!--
    IndieAuth
  -->
  <link href="mailto:timroberts@fastmail.org" rel="me" />
  <link href="https://github.com/beardedtim" rel="me" />
  <link href="https://indieauth.com/auth" rel="authorization_endpoint" />

  <!--
    Fonts
  -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600&display=swap" rel="stylesheet" as="font"
    type="text/css">

  <!--
    Styles
  -->
  <link rel="stylesheet" href="/css/normalize.css">
  <link rel="stylesheet" href="/css/skeleton.css">
  <link rel="stylesheet" href="/css/snippet.css" />
  <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/default.min.css">
  <title>Create New Type | Tim on a Path</title>

</head>
<!--
  {"created_timestamp":"2021-11-13T15:58:55.270Z","updated_timestamp":"2021-11-13T18:29:26.565Z","url":"/docs/internal/create-new-type","title":"Create New Type","summary":"Doc on how to create a new type within the current system"}
-->
<body>
  <article class="h-entry">
    <header>
      <a href="https://timonapath.com/docs/internal/create-new-type" class="u-url">
        <h2 class="p-name">Create New Type</h2>
      </a>
      <p>Published by <a class="p-author h-card" href="https://timonapath.com">Tim Roberts</a>
        on <time class="dt-published" datetime="undefined">November 13th, 2021 at 10:58 AM</time>
         |  <span>Updated on <time class="dt-updated" datetime="2021-11-13T18:29:26.565Z">November 13th, 2021 at 1:29 PM</time></span></p>
              <p class="p-summary">Doc on how to create a new type within the current system</p>
              </header>
              <main class="e-content">
              
<h1>How to Create a New Domain</h1>
<h2>Overview</h2>
<p>This will walk us through how to create a new top-level
path or <code>domain</code> for the system.</p>
<h2>Step 0: Create Folder Structure</h2>
<pre><code class="language-sh"><span class="hljs-built_in">mkdir</span> data/my-new-path
</code></pre>
<h2>Step 1: Create First Entry</h2>
<pre><code class="language-bash"><span class="hljs-built_in">cat</span> &gt;data/my-new-path &lt;&lt;<span class="hljs-string">EOL
---
title: My Title
summary: Some Summary
---

# Some Markdown

## Some Other Markdown
EOL</span>
</code></pre>
<h2>Step 2: Add New Type</h2>
<h3>Step 2.1: Add new Type File</h3>
<pre><code class="language-bash"><span class="hljs-built_in">cat</span> &gt;types/my-new-type &lt;&lt;<span class="hljs-string">EOL
const path = require(&#x27;path&#x27;)
const rootTemplate = require(&#x27;../transformers/type-into-list-html&#x27;)
const leafTemplate = require(&#x27;../transformers/markdown-to-html&#x27;)
const intoType = require(&#x27;../transformers/config-into-type&#x27;)
/**
 * All actions and paths are based off the
 * top level folder path to make it easy to grok
 */
const rootDir = path.resolve(__dirname, &#x27;..&#x27;)

/**
 * Our specific Type has its own path as well
 */
const typeFolder = path.resolve(rootDir, &#x27;data&#x27;, &#x27;my-new-type&#x27;)

/**
 * The configuration of the Type that we are constructing
 * 
 * @prop {string} folder The path to the folder for this Type
 * @prop {string} rootPath The path that we want to be served under
 * @prop {{root: function(config): string, leaf: function(config): string }}
 */
const config = {
  folder: typeFolder,
  rootPath: &#x27;/my-new-type&#x27;,
  templates: {
    root: rootTemplate, // Can be custom root template. used for list page
    leaf: leafTemplate // can be custom leaf template. used for leaf page
  },
  name: &#x27;My New Type&#x27;
}

module.exports = intoType(config)
EOL</span>
</code></pre>
<h3>Step 2.2: Update Type Map</h3>
<pre><code class="language-js"><span class="hljs-comment">// types/index.js</span>

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>.<span class="hljs-property">Docs</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./docs&#x27;</span>)
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>.<span class="hljs-property">Snippets</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./snippets&#x27;</span>)
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>.<span class="hljs-property">Articles</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./articles&#x27;</span>)
<span class="hljs-comment">// add more here</span>
<span class="hljs-comment">// module.exports.MyNewType = require(&#x27;./my-new-type)</span>
</code></pre>

              </main>
    <footer>
      <p>
        Did you spot anything wrong? Do you disagree vehemently? Post on your own site, mark it up as a <a href="https://indieweb.org/reply" target="_blank">
        <span class="code">reply</span></a>, and email me (email found in my <span class="code">h-card</span>).
      </p>
    </footer>
  </article>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
</body>
</html>